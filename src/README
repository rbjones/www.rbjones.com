$Id: README$

This is the README file for the www.RBJones.com web site source files.
From these source files the web site is built.

For full documentation on how to use this software please refer to the
RBJones.com website.

To build the site under Linux from the git sourcetree,
the following instructions will suffice:

autoconf
./configure
make
make install

The first step is not necessary if your source tree comes with a "configure" script pre-prepared.

However, success depends on there being already installed on the build machine a variety of other software.
The configure script makes a rather pathetic attempt at detecting whether this software is present, and reports on any discrepancies which it finds.

Building in the cloud
=====================

I am trying to export my development system into the amazon EC2 (elastic cloud).
Here are my notes on how to do it:

1. make an instance of the Amazon Linux AMI
2. launch instance and connect to it using SSH
   (you will need to make a keypair to do this)
3. install the prerequisites for ProofPower as follows:

sudo yum install \
   gcc-c++ \
   texlive-latex \
   libXp-devel \
   libXext-devel \
   libXmu-devel \
   libXt-devel \
   xorg-x11-fonts-misc \
   openmotif \
   openmotif-devel

4. get PolyML (or some other ML) and install it
   (this is not in the amazon repostories, though possibly
    you can get it with yum from some other repository)

5. get ProofPower and install ProofPower
6. at this point I used yum to install the Development Tools
   and Development Libraries groups and also x11-X???
7. Looking for software to support remote X11 connection
   trying LibVNCServer-0.9.9
   Should install libjpeg-turbo


6. get MathsEgs and build with ProofPower, move the database to ~/pp/dbs


Eventually this came up against the need for X11  and gnome which are not in the amazon yum repositories, but are available by apt-get.
Cue switch to Ubuntu image/

Building under Ubuntu 12.04 (still AWS)
=======================================

login as ubuntu, not root.

following: http://dotnetrehab.blogspot.co.uk/2007/04/vnc-on-ubuntu-feisty.html

apt-get update

sudo apt-get update 
sudo apt-get install x-window-system-core xserver-xorg gnome-desktop-environment 

(that's a lot of software and takes a while to install)

sudo apt-get install tightvncserver
vncserver
(New 'X' desktop is ip-10-245-186-179:1)

=================================================
building on Ubuntu 12.04

required software:

sudo apt-get install texlive-latex-extra texlive-fonts-extra \
     	     	     latex2html
sudo apt-get install libXp-dev libXext-dev \
		     libXmu-dev libXt-dev \
		     libxft-dev libjpeg-dev libpng12-dev
sudo apt-get install libmotif4 libmotif-dev libmotif4-dbg
sudo apt-get install libxml-perl libxml-dom-perl
sudo apt-get install emacs splint groff
sudo apt-get install autoconf
sudo apt-get install g++
sudo apt-get install cvs
sudo apt-get install 

The following installation of saxon does not work (for me, yet)

sudo apt-get install libsaxon-java
sudo apt-get install libsaxon-java-doc

Install polyml 5.4 from tarfile
Install ProofPower 2.8.1w5 from tarfile
Install PPMathsEgs-2.2 from tarfile (& copy database)

get java sdk from oracle.

Unpack saxon tarfile in /usr/local/src

Setup from backupcd

checkout X-Logic.org, build and then install as root
checkout rbjones.com autoconf ./configure make and make install

===========================================

On Debian 

apt-get install \
   gcc \
   g++ \
   texlive \
   libXp-dev \
   libXmu-dev \
   libXt-dev \
   emacs \
   autoconf \
   libtool \
   flex \
   bison \
   groff
   

apt-get install libxft-dev
apt-get install libjpeg-dev
apt-get install libpng12-dev
apt-get install splint
apt-get install make

install motif

install polyml

unpack polyml
./configure
make
make install

Now follow ProofPower installation instructions, i.e.
untar then ./configure then ./install.

Then for the rbjones.com build we need further software as follows.

We need the XSLT processor, which is in java.

x-logic.org

Roger Jones


BUILDING on MAC OS X El Capitain 10.11.4
========================================

First Install ProofPower and its prerequisites.

From the App Store install Xcode.

Then the install Xcode command line executables by:

xcode-select --install
(and select "install" when prompted) 

install XQuartz from XQuartz.org
install macports from macports.org

You need in your PATH /opt/local/bin:/opt/local/sbin
The MacPorts installation edits your .profile to make that happen, which has the desired effect if you are using Terminal.
If you are using emacs it doesn't (not with the out-of-the-box emacs), but if you copy .profile to .emacs_bash that does it).

To install openmotif you have to re-install xorg-libnXt because it needs the flat_namespace option.

sudo port install xorg-libXt +flat_namespace

sudo port install openmotif
sudo port install polyml
sudo port install texlive

Get ProoPower from Lemma-one.com and unpack tarball.

In the main directory,

PPPOLYLINKFLAGS=" " ./configure
./install

(of course you may want to set other variables as well to change the defaults)

Now install PERL:

sudo curl -L http://xrl.us/installperlosx | bash

Java should already be installed.

Install Perl:XPAT from https://sourceforge.net/projects/expat/

perl -MCPAN -e "shell"
install XML::DOM
