# $Id: Makefile.in,v 1.2 2003/02/01 14:29:54 rbj Exp $

BUILDFIRST=pp-smlxtras.lds x002.lds
TOPSRCDIR=@top_srcdir@
RELSRCDIR=src/rbjpub/pp
RELWEBDIR=rbjpub/pp
WEBROOTDIR=../../
SUBDIRS= gst

PPDB=pp
PPDBDIR=
PPXML=pp-smlxtras.xml WfRel.xml WfRec.xml x001.xml x002.xml
PPDOC=$(PPXML:.xml=.doc)
PPDOCSML=$(PPXML:.xml=.sml)
PPLDS=$(PPXML:.xml=.lds)
PPPPTH= min.th log.th init.th misc.th pair.th list.th char.th
PPTH=$(PPPPTH) wf_relp.th wf_rec.th fixp.th
PPTHD=$(PPTH:.th=.thd)

XML005=$(PPXML) index.xml pptheories.xml
#HTML004=$(XML004:.xml=.html)
#HTML004i=$(XML004:.xml=-i.html)
#HTML004m=$(XML004:.xml=-m.html)

XMLFILES=$(XML005)
HTMLTHLSi=$(HTMLTHLS:.html=-i.html)
HTMLTHLSm=$(HTMLTHLS:.html=-m.html)

ENTFILES=pp-symbol.ent

XLDPDIRCPY=$(ENTFILES)
SRCDIRCPY=$(PPDOCXML)

include $(TOPSRCDIR)/build/common/vars.mk

#WEBFILES=$(HTML005)

WEBFILES=$(HTML005) $(HTMLTHLS) $(HTMLTHLSi) $(HTMLTHLSm)

include $(TOPSRCDIR)/src/common/rules.mk

# directories

# Paths

vpath %.in $(SRCDIR)
vpath %.xml $(SRCDIR)
vpath %.xsl $(XLCOMDIR)

# Rules

$(PPPPTH): $(PPDB).dbts 
	touch $@

index.html: pp-smlxtras.xmlt pptheories.xmlt x002.xmlt WfRec.xmlt WfRel.xmlt gst/index.xmlt

wf_relp.th: x002.lds $(PPDB).dbts
	touch wf_relp.th

WfRec.lds: WfRel.lds

wf_rec.th: WfRec.lds
	touch wf_rec.th

fixp.th: x001.lds
	touch fixp.th

