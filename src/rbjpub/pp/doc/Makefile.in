# $Id: Makefile.in,v 1.6 2005/04/09 14:00:53 rbj Exp $

TOPSRCDIR=@top_srcdir@
RELSRCDIR=src/rbjpub/pp/doc
RELWEBDIR=rbjpub/pp/doc
WEBROOTDIR=../../../
SUBDIRS=

PPDB=pp
PPDBDIR=../
PPXML=
PPDOC=$(PPXML:.xml=.doc)
PPDOCSML=$(PPXML:.xml=.sml)
PPLDS=$(PPXML:.xml=.lds)
PPTH=
#PPTHD=$(PPTH:.th=.thd)
#PPTHDOC=$(PPTH:.th=.th.doc)
PPTHTEX=$(PPTH:.th=.th.tex)

XML005=$(PPXML)
#HTML004=$(XML004:.xml=.html)
#HTML004i=$(XML004:.xml=-i.html)
#HTML004m=$(XML004:.xml=-m.html)

HTMLTHLSi=$(HTMLTHLS:.html=-i.html)
HTMLTHLSm=$(HTMLTHLS:.html=-m.html)

TDOC=t000.doc t001.doc t002.doc t003.doc t004.doc t005.doc t006.doc \
	t007.doc t008.doc t009.doc t010.doc t011.doc t012.doc t013.doc \
	t014.doc t015.doc t016.doc t017.doc

TPDF=$(TDOC:.doc=.pdf)

SRCDIRCPY=$(XML005) $(TDOC) rbj.mkf README.txt

ENTFILES=pp-symbol.ent

XLDPDIRCPY=$(ENTFILES)

include $(TOPSRCDIR)/build/common/vars.mk

WEBFILES=$(HTML005) $(HTMLTHLS) $(HTMLTHLSi) $(HTMLTHLSm) $(TPDF) rbj.src.tgz

BUILDEXTRAS=

include $(TOPSRCDIR)/src/common/rules.mk

# directories

# Paths

vpath %.in $(SRCDIR)
#vpath %.xml $(SRCDIR)
vpath %.xsl $(XLCOMDIR)
#vpath %.ent $(XLDPDIR)

# Rules

build: $(SRCDIRCPY)

rbjmkf: $(SRCDIRCPY) rbj.bib
	touch rbjmkf

rbj.bib: $(COMDIR)/rbj.bib
	cp $(COMDIR)/rbj.bib .

pdf: rbjmkf
	make -f rbj.mkf pdf

rbj.src.tgz: rbjmkf
	make -f rbj.mkf src

$(TPDF): %.pdf: %.doc rbj.mkf rbjmkf
	make -f rbj.mkf $*.pdf


