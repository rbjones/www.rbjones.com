% $Id: p011.tex,v 1.3 2006/11/30 14:39:34 rbj01 Exp $
% bibref{rbjp011} pdfname{p011} 
\documentclass[numreferences]{rbjk}
\usepackage{makeidx}
\newcommand{\ignore}[1]{}
\usepackage[unicode,pdftex]{hyperref}
\hypersetup{pdfauthor={Roger Bishop Jones}}
\hypersetup{colorlinks=true, urlcolor=black, citecolor=black, filecolor=black, linkcolor=black}

%\newtheorem{def}{Definition}
%\newtheorem{conj}{Conjecture}

\makeindex
\begin{document}                                                                                   
\begin{article}
\begin{opening}  
\title{PolySets}
\runningtitle{PolySets}
\author{Roger Bishop \surname{Jones}}
\date{$ $Date: 2006/11/30 14:39:34 $ $}
\runningauthor{Roger Bishop Jones}

\begin{abstract}
A concise presentation of the motivation for, intuition behind, construction of, and conjectured properties of a model for a set theory with a universal set.
\end{abstract}
\end{opening}

%\def\tableofcontents{{\parskip=0pt\@starttoc{toc}}}
\setcounter{tocdepth}{4}
{\parskip-0pt\tableofcontents}

\section{Introduction}

For the beginnings of a formal treatment of this topic see \cite{rbjt020}.

\subsection{Motivation}

The polysets are a conception of set which includes the pure well-founded collections (as many of them as you like) and also a similar number of non-well-founded collections.

The non-well-founded sets are designed to encompass two kinds of entity.

Firstly there are some functions similar to the well typed terms of the pure lambda calculus.
This is not of course the same as those of the simply typed lambda calculus, for these have well-founded graphs and are already available to us.
The special feature of the well-typed functions of the type-free calculus, is that the same function has many different types.
In the type free calculus we have an identity function which can be applied to anything,
In the typed calculus we have many identity functions, each defined only over some part of the universe.

Secondly there are the kinds of non-well-founded entities which would abound in category theory if only they existed.
Any kind of algebraic structure, like the groups, gives rise to a category which, because the objects in it are too diverse, is not well-founded.
There does not exist a category formed from all the groups, because there are groups over every set, and the category would therefore be too close for comfort to a universal set.
This is the kind of foundational problem which Saunders Mac Lane described at the beginning of his book ``Category Theory for the Working Mathematician''.
When Saunders Mac Lane came later to make definite foundational proposals they were completely irrelevant to this kind of problem, and so from the category theoretic point of view this foundational proposal is one which is intended to address Mac Lanes early foundational misgivings rather than those later ones (perhaps!) which led to his set theoretic ideas.

\subsection{Intuition}

The intuition about these kinds of structure which informs the notion of a \emph{polyset} comes from just a little knowledge of how functions are implemented in some polymorphically typed functional programming languages.
The situation is similar to that of type assignment in the pure type-free lambda calculus.
The type discipline is diagnostically and in other ways valuable, but a polymorphic function is just a single function, not a family of functions.
When we consider how it is possible for the same polymorphic function in these languages to apply to objects of different types, there is a simple answer.
This can be illustrated by the case of the polymorphic \emph{length} function over lists.
The reason why a single function can compute the length of a list without knowing the type of the values in the list, is that the values in the list are irrelevant to the length of the list and hence to the evaluation of the function.
The function needs to know how lists are structured.
It does not need to know anything about the structure of the members of the list.

Such functions examine only the superficial structure of their arguments, and by the time the computation reaches values whose type is not known (except as a type variable) they have already extracted all the information they need and probe no deeper.

In the case of computable functions, the superficial structure of arguments which will be used in a computation are finite.
In the case of mathematical functions more generally, this need not be the case, but the idea that a polymorphically-typable function depends only upon (some generous conception of) the superficial structure of its arguments provides us with an extension of the notion of a function which can be made to yield a model for a non-well-founded set theory in which such functions exist.

The more extended notion of superficiality is as follows.
A set is superficial in this way if every element in it is in it because it conforms to a ``pro-forma'', such that every other set conforming to that pro-forma is also a member.
A pro-forma is a set with some ``free variables'' in it, and a set conforms to that pro forma if it is an instance of it obtained by uniformly replacing the free variables by sets.
The most simple examples are firstly the universe V, which is obtained with a proforma consisting of the ordinal zero, and the identity function, for which the proforma would be the ordered pair of zero with itself.
These have extremely superficial structure, but structure may be arbitrarily deep and still be superficial in the required sense.
The distinction between superficial and non-superficial is very loosely analogous to that between set and class.
We may talk of a collection being a class if it is ``too large'' to be a set, even though there is no limit to how large a set might be.
A class is perhaps too large to have a size.
A better analogy is perhaps with the distinction between well-founded and non-well-founded.
Superficial structure is always well-founded, there is a bound on the length of the descending paths through the superficial structure.

\section{Construction}
To make this idea more precise I proceed as follows.

I construct representatives of the polysets in a well-founded set theory, then define a new membership relation over these representatives reflecting the intended extension of the polysets, finally this relation is lifted to operate over sets of the original representatives (unit sets in the first instance) and extensionalise the relationship by taking the smallest equvalence relation over the representation relative to which the lifted membership relation is extensional.

\subsection{Version 1}

The representatives of the polysets are defined by transfinite recursion, relative to some standard well-founded set theory.
The definition is done in three stages, first sero, then the Von Neumann ordinals and then the rest.

\begin{quote}\label{def:polyset rep}
{\it
The polyset rep of the empty set is the empty set.
}
\end{quote}
\index{polyset rep}

\begin{quote}
\emph{
The polyset rep of a non-zero ordinal is the ordered pair with the empty set on the left and and the set of polyset reps of its members on the right.
}
\end{quote}

The polyset reps of the ordinals are called the polyset ordinal reps.

A polyset membership relationship is defined over the polyset ordinal reps as follows:

\begin{quote}
\emph{
The polyset ordinal rep is a polyset member of some other polyset ordinal rep if it is a member of the set on the right of the ordered pair.
}
\end{quote}

The polyset reps are then defined:

\begin{quote}
\emph{
A polyset rep is an ordered pair of which the first element is a polyset ordinal rep and the second a set of polyset reps.
}
\end{quote}

Using the terms ``lhs'' and ``rhs'' respectively for the left and right hand members of an ordered pair, the membership relationship is then defined over the polyset reps as follows:

\begin{quotation}
{\it
A polyset rep A is a member of a polyset rep B if there exists:
\begin{enumerate}
\item a function \textsf{subs} defined over the (poly-)members of the polyset ordinal rep \textsf{lhs B} with values in the polyset reps
\item a member \textsf{m} of \textsf{rhs B}
\end{enumerate}
such that A is obtained by instantiating \textsf{m} regarded as a proforma with the values for free variables determined by \textsf{subs} (the occurrences in \textsf{m} of ordinals in the domain of \textsf{subs} are considered to be free variables).
}
\end{quotation}

If the ordinal \textsf{lhs B} is zero, then this indicates that the proformas in \textsf{rhs B} have no free variables.
Only the empty substitution may be applied, and \textsf{A} must then be a member of \textsf{rhs B} to meet the polyset membership requirement.

The details of how to instantiate a pro-forma are of course crucial here and this is defined by transfinite recursion as follows.

\begin{quote}
{\it
The instance of a polyset rep \textsf{A} resulting from a substitution \textsf{subs} is:
\begin{itemize}

\item if \textsf{A} is a polyset ordinal rep which is in \textsf{dom(subs)} then the value of the instance is the value of \textsf{subs} at \textsf{A}.

\item if \textsf{A} is a polyset ordinal rep which is not in \textsf{dom(subs)} and \textsf{B} is the a polyset ordinal rep such that \textsf{dom(Subs) + B = A} then the value of the instance is \textsf{B}.

\item if \textsf{A} is not a polyset ordinal rep, but is the ordered pair \textsf{(C, D)} where \textsf{C} is a polyset ordinal rep and \textsf{D} is a set of polyset reps, then the instance is the ordered pair \textsf{(C,E)} where E is the set of polyset reps obtained by applying substition \textsf{subs} to each of the members of \textsf{D}.
\end{itemize}.
}
\end{quote}

\subsection{Version 2}

I define an interpretation of the first order language of set theory by defining within a well-founded (extensional) membership structure \textsf{(WF,R)} a new structure \textsf{(PS,R')} where \textsf{PS} is a subset of \textsf{WF}, and \textsf{R'} is a non-well-founded (and non-extensional) relation over \textsf{PS}. From this an extensional structure is obtained by taking a quotient.

\textsf{PS}, the set of polysets, is defined in two stages.
It will contain an isomorphic image of the original membership structure the members of which are called the ``hereditarily low'' polysets.
It is convenient to define the injection from \textsf{WF} to these polysets first,

The image of the empty set is the empty set.
The image of every other well-founded set is an ordered pair with the empty set on the left and the set of images of the elements of the set on the right.
The restriction of \textsf{R'} to the hereditarily low polysets is that induced by this injection so that they form an isomorphic copy of \textsf{(WF,R)} in \textsf{(PS,R')}.
The restriction of \textsf{(PS,R')} to these sets is well-founded and extensional, and is preserved unchanged when quotients are taken to recover extensionality across the whole of \textsf{R'}.

The \emph{polyset ordinals} are the polysets which are in the image of the Von-Neumann ordinals under this injection.

The polysets are then the well-founded sets which are hereditarily either the empty set or an ordered pair with a polyset ordinal on the left and a set of polysets on the right.

\textsf{R'} is then defined:

\textsf{R' x y} iff y is the ordered pair \textsf{(n,s)} and:

\begin{enumerate}
\item n is the empty set (the zero polyset ordinal) and \textsf{R x s} 

or
\item n is not the empty set and there exists an assignment of polysets to the ordinals below n and a member of s such that when s (taken as a pro-forma over n-1 variables) is instantiated using the assignment, the result is x 
\end{enumerate}

When a poly set is ``taken as a proforma over n-1 variables'' then occurrences in it of the first n-1 ordinals are taken as free variables.
When an instantiation takes place according to some assignment, occurrences of the free variables are replaced by their assigned values, and the number of free variables is deducted from the value of any other occurrences of ordinals (i.e. of ordinals not less than n).

Lets try that again!

Instantiation of a polyset according to a variable assignment is defined as follows.

The instance of a polyset \emph{s} according to an assignment \emph{a} is:
\begin{itemize}
\item if \emph{s} is a polyset ordinal less than the number of variables in the assignment then the value assigned to that variable (\emph{s-o}) is the result of the instantiation
\item if \emph{s} is a polyset ordinal greater than the number of variables then its value is decreased by the number of variables.
\item if \emph{s} is not a polyset ordinal but is $(n,t)$ then its value after instantiation is $(n,t')$ where $t'$ is the set of instances of members of $t$ according to assignment $a$.
\end{itemize}

We only ever instantiate a PolySet with an assignment whose domain is the left hand element of the polyset,

\subsection{Version 3}

$(x,y)$ is the ordered pair of $x$ and $y$.

Let $WF$ be $V(\alpha)$ for some reasonably large ordinal $\alpha$ (say, a Mahlo cardinal).

An injection from $WF$ into the PolySets is defined thus:

\begin{displaymath}
ps(\{\}) = \{\}
\end{displaymath}
for non-empty \emph{x}:
\begin{displaymath}
ps(x) = (\{\}, \{ ps(y)\ |\ y \in x\})
\end{displaymath}

Let $PsOn$ be the image under $ps$ of the ordinals in $WF$:

\begin{displaymath}
PsOn = ps `` Ord
\end{displaymath}

The $PolySets$ are then:

\begin{displaymath}
PolySets = \{(o,s)\ |\ o \in PsOn \land s \in WF \land s \subseteq PolySets\}
\end{displaymath}

Membership over the $PolySets$ is defined using a substitution operation.
A $PolySet$ assignment to a PsOn $Po$ is a function with domain $Po$ (a PolySet of $PolySet$ ordinals) with $PolySet$ values.
An instance of a PolySet $(Po, Pss)$ may be obtained by instantiating the PolySet according to an assignment of PolySets to $Po$.

Instantiation is defined as follows, in which `$+$' is $ordinal$ addition.

\begin{enumerate}
\item
If $ps \in domain(va)$ then:
\begin{displaymath}
 inst va ps = va (ps)
\end{displaymath}
\item
If $ps \in PsOn\ \verb!\!\ domain(va)$
\begin{displaymath}
 inst\ va\ ps\ =\ the\ ps'\ s.t.\ dom(va)+ps'=ps
\end{displaymath}
\item
\begin{displaymath}
inst\ va\ (o,pss)\ =\ (o,\ \{inst\ va\ psse\ |\ psse\ \in\ pss\})
\end{displaymath} 
\end{enumerate}

Membership over PolySets is then defined:
\begin{displaymath}
ps\ \not\in\ \{\}
\end{displaymath}
\begin{displaymath}
ps\ \in\ \{o,pss\}\\
\Leftrightarrow\\
\exists va,\ ps2.\ domain\ va\ =\ o\ \wedge\ ps\ =\ inst\ va\ ps2
\end{displaymath}

\subsection{Extensionality}

We finally lift the membership operation over equivalence classes of polyset reps, taking the smallest equivalence relation such that the membership relation induced on the equivalence classes is extensional.
The induced relation is: [A] is a member of [B] if there exist C and D such that $C \backsimeq A$ and $D \backsimeq B$ and C is a (polyset) member of D.

\section{Properties}

In the following discussion of the properties of this structure I use the term {\it mono} or {\it low} for a poly set with a representative whose lhs is the empty set, poly for other polyset reps, and WF or H$_{low}$ for the hereditarily mono polyset reps.

It is not my intention that the polysets be the subject of a first order theory, in the manner of ZFC or NF.
It is intended that they form a stage in a series of constructions which ends in some kind of type theory.

The key distinguishing feature is polyset abstraction, which would I think be difficult to formalise conveniently in a first order language, but can be formalised in a higher order logic.
In either case its probably not an easy axiom to use, so the aim ultimately would be to have a type system designed so that well-typeable functional abstractions in that type theory always yield polysets.

The discussion falls into four parts.
\begin{enumerate}
\item well-founded and other mono polysets.
\item poly polysets for ML-like polymorphic functions
\item poly polysets for locales and abstract algebra
\item comparison with other non-well-founded set theories
\end{enumerate}

\subsection{Mono PolySets}

The well-founded PolySets will I hope be isomorphic to the original well-founded structure.

I am inclined to work with systems with `galaxies' (aka universes) which are closed under power set union and replacement, and these should allow traditional mathematical domains to be treated in the usual way.
If there are galaxies then the poly PolySets will also be members of galaxies though the closure properties relate only to the mono constituents of the galaxies.

\subsection{ML-like Polymorphism}

The main motivation and intuition behind this construction comes from ML.
The idea is to produce an ontology which has all the classical well-founded sets together with the polymorphic functions definable in a language like ML in such a way that one can instantiate local definitions of polymorphic functions (or in which instantiation of polymorphic functions in not required).

I am still some way off having any arguments to support this intuition, but my present view is that the interpretation will achieve this objective.

\subsection{Locales and Abstract Algebra}

I had also hoped that the interpretation would be good for the kind of structuring of formal theories which is desirable for doing and applying abstract algebra, or more generally for good structuring and reusability in large scale formal mathematics.

I think the onology is unlikely to satisfy this requirement.

The desire here is to be able to give, not just local definitions of polymorphic functions, but also local specifications supplying a context in which the theory is to be interpreted,
This might include for example stating or importing the concept of a group and expecting to be able to make multiple applications of the concept in the body of the specification.

It now seems unlikely to me that abstract algebraic structures will be PolySets.
It is possible that further filling out of the ontology, maybe with Church-Oswald constructions, might realise this kind of ambition, but I don't have a good intuition about what kind of filling out would to the trick.

It is worth asking, given that the ontology seems too skinny, whether this ontology is encompassed by any other set theory, NF or `positive' set theory.

The conjectures are based on the hunch that the final stage in the process described above, in which the relation is extensionalised, really doesn't do much else, and that the closure properties of the non-extensional version are retained.

The term ``set'' refers to something in the domain of the original well-founded membership structure, the term ``polyset'' is used for the sets in the constructed non-well-founded membership structure.
The term ``polyset rep'' refers to members of the domain of the non-extensional non-well-founded membership structure over which the ``polyset'' are a quotient. 

The terminology of ``low'' and ``high'' (poly-)sets associated with Church-Oswald constructions (as in \cite{forster92,forster2005}) is used, and (the closest analogue of) Forster's definition of low is adopted.
A polyset is low if it is the empty set or the lhs of (any one of) its ordered pair representatives is the empty set.
Otherwise it is high.

\subsection{Higher Order Axioms}

It is natural to expect that this set theory can be axiomatised with three axioms as follows.
There are two primitive constants, a binary membership relation and the predicate ``Low'' (whose negation is ``High'').

\begin{enumerate}
\item Full extensionality.

\item Every set is a member of a Galaxy.

A galaxy is a set which is closed under:

\begin{itemize}
\item [full low power set]\ 

All the subsets of a low set are low sets and are collected in a low set.

\item [low sumset]\ 

All low sets have sumsets, low if all the members of the set are low, otherwise high.

\item [low replacement]\ 

The image of a low set under a functional relation is a low set.

\end{itemize}

\item polyset abstraction.

Any set together with an ordinal determines a high set whose members are those sets which can be obtained by instantiating a member of the first set by a family of sets indexed by the ordinal.

\end{enumerate}

\subsection{Other Properties}

\begin{itemize}

\item[No gratuitous failures of $\in$ foundation]\ 

This heading comes from Forster's paper \cite{forster2006} and I use it here because we seem to have extreme versions of some of the characteristics he is considering there.

All high polysets have the same size and are larger than any low polyset.
The only self-membered set is V.
All $\in$ loops involve at least one high polyset.
$\in$ restricted to sets smaller than V (i.e. to low sets) is well-founded.

\item[Properties of CO constructions]\ 

The polysets are not obtained using a Church-Oswald construction (see: \cite{forster2005}) though perhaps they could have been.
They seem to have several of the properties of CO constructions proven by Forster in \cite{forster2005}.
Many of these are obvious consequences of properties already stated,

\begin{itemize}

\item[Low] Forsters definition of a ``low'' set is one for which k=0.
In our case the ordered pairs are the other way round, but with that adjustment the definition is good.
The low sets are the special case of PolySets in which there are no pattern variables.

\item[H$_{low}$]\ 

I suspect that H$_{low}$ (as defined by Forster\cite{forster2005}) is (here) the set of hereditarily low sets.

\item[Low Comprehension]\ 

There will be something analogous to low comprehension.
Any set of polysets is a low polyset.
High polysets are all classes of polysets.
(interpret ``set'' and ``class'' here as if in a set theoretic metalanguage)

\item[12.] The set of low polysets is not a polyset (not even a high one).

\item[13.] An image of a low polyset is low, subsets of low polysets are low.

\item[14.] A low polyset has a low power set.

\item[15.] Low polysets have sumsets. Low polysets of low polysets have low sumsets.

\item[30.] H$_{low}$ is isomorphic to the original universe assuming that the original was V($\alpha$) for some $\alpha$, probably much weaker assumptions would suffice.

\item[32.] a canonical injection from the original universe is readily definable, but not in quite the same way as for a Church-Oswald construction.

\item[34.] The range of the canonical injection from the well-founded sets into the (hereditarily low) polysets is not a polyset (or a set).

\item[37.] 

\end{itemize}
\end{itemize}

{\raggedright
\bibliographystyle{klunum}
\bibliography{rbjk}
} %\raggedright

\twocolumn[\section{Index}\label{Index}]
{\small\printindex}

\end{article}
\end{document}
