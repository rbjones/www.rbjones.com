# $Id: Makefile.in,v 1.11 2006/11/09 12:05:24 rbj01 Exp $

include @top_srcdir@/top_srcdir.mk

RELSRCDIR=src/rbjpub/www/papers
RELWEBDIR=rbjpub/www/papers

PPDB=
PPDBDIR=
PPXML=
PPDOC=$(PPXML:.xml=.doc)
# Plain ProofPower documents (not from XML)Menu
PPPDOC=
KLUTEX1=p001.tex p002.tex p003.tex p004.tex p005.tex p006.tex p007.tex p008.tex p009.tex \
	p010.tex p011.tex
KLUTEX=p000.tex $(KLUTEX1)
PPLDS=$(PPXML:.xml=.lds)
PPTH=
PPTHD=$(PPTH:.th=.thd)

XML007=$(PPXML)
XML008=index.xml

ENTFILES=pp-symbol.ent
COMFILES=rbjk.cls

SRCDIRCPY=$(PPPDOC) $(KLUTEX)
XLDPDIRCPY=$(ENTFILES)
COMDIRCPY=$(COMFILES)

include $(TOPSRCDIR)/build/common/vars.mk

WEBFILES=$(HTML007) $(HTML008) $(PDF)

include $(TOPSRCDIR)/src/common/rules.mk

# Paths

vpath %.bib $(COMDIR)
vpath %.in $(SRCDIR)
vpath %.xml $(SRCDIR)
vpath %.xsl $(XLCOMDIR)

# Dependencies

p000.pdf: p000abs.tex

$(K)

# Rules

p000abs.tex: $(KLUTEX1)
	texindex2tex $(KLUTEX1) > p000abs.tex

indexmiddle.xml: $(KLUTEX)
	texindex2xml 0 "" $(KLUTEX) > indexmiddle.xml

index.xml: indexhead.xml indexmiddle.xml indextail.xml
	cat $^ > index.xml