# $Id: Makefile.in,v 1.19 2012/10/09 20:06:36 rbj Exp $

include @top_srcdir@/top_srcdir.mk

RELSRCDIR=src/rbjpub/www/books
RELWEBDIR=rbjpub/www/books
SUBDIRS=mp philrev engfut aoman aobook ftd hotp cw ppfd OrgMetap

PPDB=
PPDBDIR=
PPXML=
PPDOC=$(PPXML:.xml=.doc)
# Plain ProofPower documents (not from XML)
PPPDOC=

DBXML=$(MPXML)
PPLDS=$(PPXML:.xml=.lds)
PPTH=
PPTHD=$(PPTH:.th=.thd)

XML005S=index.xml
XML007=$(PPXML) xb001.xml xb002.xml xb003.xml
XML008=xb005.xml

ENTFILES=pp-symbol.ent

PDFTEX=IdeasAndThings.tex ProofPowerStory.tex
TEXPDF=$(PDFTEX:.tex=.pdf)
SRCDIRCPY=$(PPPDOC) $(DBXML) $(PDFTEX)
XLDPDIRCPY=$(ENTFILES)

include $(TOPSRCDIR)/build/common/vars.mk

WEBFILES=$(HTML007) $(HTML008) $(HTM005) $(TEXPDF) 

include $(TOPSRCDIR)/src/common/rules.mk

# Paths

vpath %.bib $(COMDIR)
vpath %.in $(SRCDIR)
vpath %.xml $(SRCDIR)
vpath %.xsl $(XLCOMDIR)

# Rules

$(PPTH): $(PPDB).dbts 
	touch $@

# dependencies

index.htm: xb001.xmlt xb002.xmlt ../../philos/x032.xmlt ../../philos/x033.xmlt ../../philos/x034.xmlt cw/index.xmlt

xb001.html: ../../philos/x033.xmlt ../../philos/x034.xmlt  ../../philos/logic/xpl001.xmlt
